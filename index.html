<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>Rabika's Burguer</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">

<style>
*{box-sizing:border-box;margin:0;padding:0}
body{
  font-family:'Poppins',sans-serif;
  background:linear-gradient(180deg,#06003a,#0a045a,#03001f);
  color:#fff;
  display:flex;
  justify-content:center;
}

/* SPLASH */
#splash{
  position:fixed; inset:0;
  background:linear-gradient(180deg,#05002e,#020018);
  display:flex; align-items:center; justify-content:center;
  z-index:9999;
}
.splash-box{text-align:center}
.splash-logo{width:85vw;max-width:360px;margin-bottom:28px}
.splash-btn{
  background:linear-gradient(135deg,#FFD34D,#FFB000);
  border:none;
  padding:18px 52px;
  border-radius:50px;
  font-size:22px;
  font-weight:900;
  color:#2b0033;
  cursor:pointer;
}

/* APP */
#app{
  width:100%;
  max-width:420px;
  padding:16px 16px 340px;
  display:none;
}
.title{
  text-align:center;
  font-size:32px;
  font-weight:900;
  color:#FFD34D;
  margin-bottom:10px;
}
#closedBanner{
  background:#b00020;
  color:#fff;
  text-align:center;
  padding:12px;
  border-radius:20px;
  font-weight:600;
  margin-bottom:12px;
  display:none;
}
.search{
  width:100%;
  padding:14px 18px;
  border-radius:24px;
  border:none;
  font-size:15px;
  margin-bottom:14px;
}

/* TABS */
.tabs{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:10px;
  margin-bottom:16px;
}
.tab{
  background:#fff;
  color:#2b0033;
  padding:14px;
  border-radius:22px;
  font-weight:800;
  text-align:center;
  cursor:pointer;
}
.tab.active{background:#FFD34D}

/* CONTENT */
.box{
  background:#fff;
  color:#2b0033;
  border-radius:28px;
  padding:18px;
  margin-bottom:20px;
  display:none;
}
.box.active{display:block}

/* ITEM */
.item{
  display:grid;
  grid-template-columns:1fr auto auto;
  gap:10px;
  padding:14px 0;
  border-bottom:1px dashed #ddd;
  align-items:center;
}
.item:last-child{border:none}
.item-name{font-weight:600}
.item-price{font-weight:900;color:#5a0070}
.btn-add{
  background:#5a0070;
  color:#fff;
  border:none;
  border-radius:14px;
  padding:6px 14px;
  font-weight:900;
  cursor:pointer;
}

/* CART */
#cart{
  position:fixed;
  bottom:0; left:50%;
  transform:translateX(-50%);
  width:100%;
  max-width:420px;
  background:#fff;
  color:#2b0033;
  padding:18px;
  border-radius:28px 28px 0 0;
  display:none;
}
.cart-item{
  display:flex;
  justify-content:space-between;
  font-weight:700;
  margin-bottom:6px;
}
.total{
  font-size:18px;
  font-weight:900;
  text-align:right;
}
.finish{
  background:#25D366;
  color:#fff;
  padding:16px;
  border-radius:26px;
  font-weight:900;
  text-align:center;
  margin-top:12px;
  cursor:pointer;
}

/* MODAL BASE */
.modal{
  position:fixed; inset:0;
  background:rgba(0,0,0,.6);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:99999;
}
.modal-box{
  background:#fff;
  color:#2b0033;
  width:94%;
  max-width:420px;
  border-radius:30px;
  padding:22px;
  max-height:90vh;
  overflow:auto;
  position:relative;
}
.modal-close{
  position:absolute;
  top:14px;
  right:16px;
  font-size:26px;
  font-weight:900;
  cursor:pointer;
}
.modal-title{
  font-size:22px;
  font-weight:900;
  text-align:center;
  margin-bottom:14px;
}
</style>
</head>

<body>

<!-- SPLASH -->
<div id="splash">
  <div class="splash-box">
    <img src="logo.png" class="splash-logo">
    <button class="splash-btn" onclick="start()">FAZER PEDIDO</button>
  </div>
</div>

<!-- APP -->
<div id="app">
  <div class="title">Rabika's Burguer</div>
  <div id="closedBanner">
    üî¥ Estamos fechados ‚Äî Ter√ßa a Domingo das 18:30 √†s 22:30
  </div>

  <input class="search"
    placeholder="Pesquisar no card√°pio..."
    oninput="handleSearch(this.value)">

  <div class="tabs">
    <div class="tab active" onclick="openTab('lanches',this)">üçî Lanches</div>
    <div class="tab" onclick="openTab('porcoes',this)">üçü Por√ß√µes</div>
    <div class="tab" onclick="openTab('pasteis',this)">ü•ü Past√©is</div>
    <div class="tab" onclick="openTab('acai',this)">üç® A√ßa√≠</div>
    <div class="tab" onclick="openTab('bebidas',this)">ü•§ Bebidas</div>
  </div>

  <div id="lanches" class="box active"></div>
  <div id="porcoes" class="box"></div>
  <div id="pasteis" class="box"></div>
  <div id="acai" class="box"></div>
  <div id="bebidas" class="box"></div>
</div>

<!-- CARRINHO -->
<div id="cart">
  <div id="cartItems"></div>
  <div class="total" id="total">Total: R$ 0,00</div>
  <div class="finish" onclick="finishOrder()">Finalizar Pedido</div>
</div>

<script>
/* =========================
   ESTADO GLOBAL √öNICO
========================= */
const ADM_PASSWORD = "1234";
const TAXA_ENTREGA = 8;

let cart = [];
let currentTab = "lanches";
let searchText = "";

/* =========================
   HOR√ÅRIO √öNICO (CORRIGIDO)
========================= */
function isOpen(){
  const d = new Date();
  const day = d.getDay(); // 1 = segunda
  const h = d.getHours() + d.getMinutes()/60;
  if(day === 1) return false;
  if(h < 18.5 || h > 22.5) return false;
  return true;
}

/* =========================
   START (UNIFICADO)
========================= */
function start(){
  document.getElementById("splash").style.display = "none";
  document.getElementById("app").style.display = "block";
  updateOpenStatus();
  renderAll();
}

/* =========================
   STATUS ABERTO / FECHADO
========================= */
function updateOpenStatus(){
  document.getElementById("closedBanner").style.display =
    isOpen() ? "none" : "block";
}
<script>
/* =========================
   PRODUTOS (COMPLETOS)
   ‚Äî nenhum removido
========================= */
let produtos = [
  /* LANCHES */
  {id:'L01',nome:'X-Salada',preco:17,categoria:'lanches',ativo:true},
  {id:'L02',nome:'X-Burguer',preco:14,categoria:'lanches',ativo:true},
  {id:'L03',nome:'X-Frango',preco:22,categoria:'lanches',ativo:true},
  {id:'L04',nome:'X-Frango Cremoso',preco:20,categoria:'lanches',ativo:true},
  {id:'L05',nome:'X-Bacon',preco:25,categoria:'lanches',ativo:true},
  {id:'L06',nome:'X-Calabresa',preco:25,categoria:'lanches',ativo:true},
  {id:'L07',nome:'X-Cora√ß√£o',preco:27,categoria:'lanches',ativo:true},
  {id:'L08',nome:'X-Tudo',preco:32,categoria:'lanches',ativo:true},
  {id:'L09',nome:'X-Burguer Duplo',preco:22,categoria:'lanches',ativo:true},
  {id:'L10',nome:'X-Egg',preco:20,categoria:'lanches',ativo:true},
  {id:'L11',nome:'X-Tribom',preco:32,categoria:'lanches',ativo:true},
  {id:'L12',nome:'X-Da Casa',preco:45,categoria:'lanches',ativo:true},
  {id:'L13',nome:'X-Dog',preco:20,categoria:'lanches',ativo:true},

  /* POR√á√ïES */
  {id:'P01',nome:'Fritas',preco:24.99,categoria:'porcoes',ativo:true},
  {id:'P02',nome:'Fritas c/ Frango',preco:39.99,categoria:'porcoes',ativo:true},
  {id:'P03',nome:'Fritas c/ Calabresa',preco:34.99,categoria:'porcoes',ativo:true},
  {id:'P04',nome:'Fritas c/ Bacon',preco:34.99,categoria:'porcoes',ativo:true},
  {id:'P05',nome:'An√©is de Cebola',preco:24.99,categoria:'porcoes',ativo:true},
  {id:'P06',nome:'Fritas c/ Bacon, Calabresa e Queijo',preco:39.99,categoria:'porcoes',ativo:true},
  {id:'P07',nome:'Fritas c/ Bacon Cheddar',preco:39.99,categoria:'porcoes',ativo:true},
  {id:'P08',nome:'Fritas c/ Polenta e Frango',preco:39.99,categoria:'porcoes',ativo:true},
  {id:'P09',nome:'Fritas c/ Polenta',preco:24.99,categoria:'porcoes',ativo:true},
  {id:'P10',nome:'Fritas c/ Calabresa e Catupiry',preco:35.99,categoria:'porcoes',ativo:true},
  {id:'P11',nome:'Fritas, Polenta, Chuleta e Anel de Cebola',preco:49.99,categoria:'porcoes',ativo:true},

  /* PAST√âIS */
  {id:'PA01',nome:'Pastel de Carne',preco:14,categoria:'pasteis',ativo:true},
  {id:'PA02',nome:'Pastel de Frango',preco:12,categoria:'pasteis',ativo:true},
  {id:'PA03',nome:'Frango Bacon Cheddar',preco:16,categoria:'pasteis',ativo:true},
  {id:'PA04',nome:'Bacon Cheddar',preco:15,categoria:'pasteis',ativo:true},
  {id:'PA05',nome:'Calabresa c/ Cebola',preco:14,categoria:'pasteis',ativo:true},
  {id:'PA06',nome:'Carne e Queijo',preco:15,categoria:'pasteis',ativo:true},
  {id:'PA07',nome:'Queijo',preco:14,categoria:'pasteis',ativo:true},
  {id:'PA08',nome:'Chocolate ao Leite',preco:15,categoria:'pasteis',ativo:true},
  {id:'PA09',nome:'Banana Queijo Canela',preco:15,categoria:'pasteis',ativo:true},
  {id:'PA10',nome:'Romeu e Julieta',preco:15,categoria:'pasteis',ativo:true},
  {id:'PA11',nome:'Chocolate Branco',preco:15,categoria:'pasteis',ativo:true},
  {id:'PA12',nome:'Creme e Ouro Branco',preco:15,categoria:'pasteis',ativo:true},
  {id:'PA13',nome:'Creme e Sonho de Valsa',preco:15,categoria:'pasteis',ativo:true},

  /* A√áA√ç */
  {id:'A01',nome:'A√ßa√≠ 300ml',preco:12,categoria:'acai',ativo:true},
  {id:'A02',nome:'A√ßa√≠ 400ml',preco:15,categoria:'acai',ativo:true},
  {id:'A03',nome:'A√ßa√≠ 500ml',preco:18,categoria:'acai',ativo:true},

  /* BEBIDAS */
  {id:'B01',nome:'Cassulinha 200ml',preco:3,categoria:'bebidas',ativo:true},
  {id:'B02',nome:'Coca-Cola 600ml',preco:8,categoria:'bebidas',ativo:true},
  {id:'B03',nome:'Coca-Cola 2L',preco:16,categoria:'bebidas',ativo:true},
  {id:'B04',nome:'Refri Lata',preco:6,categoria:'bebidas',ativo:true},
  {id:'B05',nome:'Refrigerante 2L',preco:12,categoria:'bebidas',ativo:true},
  {id:'B06',nome:'Cerveja Lata 350ml',preco:6,categoria:'bebidas',ativo:true},
  {id:'B07',nome:'Achocolatado 200ml',preco:3,categoria:'bebidas',ativo:true}
];

/* =========================
   TABS
========================= */
function openTab(cat,el){
  currentTab = cat;
  document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));
  if(el) el.classList.add('active');

  document.querySelectorAll('.box').forEach(b=>b.classList.remove('active'));
  document.getElementById(cat).classList.add('active');
  renderAll();
}

/* =========================
   BUSCA GLOBAL (CORRIGIDA)
========================= */
function handleSearch(value){
  searchText = value.toLowerCase().trim();

  if(searchText === 'pre√ßo' || searchText === 'preco'){
    if(prompt('Senha ADM') === ADM_PASSWORD) openPricePanel();
    return;
  }

  if(searchText === 'ofertas'){
    if(prompt('Senha ADM') === ADM_PASSWORD) openOfferPanel();
    return;
  }

  renderAll();
}

/* =========================
   RENDERIZA√á√ÉO √öNICA
========================= */
function renderAll(){
  ['lanches','porcoes','pasteis','acai','bebidas'].forEach(cat=>{
    const box = document.getElementById(cat);
    box.innerHTML = '';

    produtos
      .filter(p=>p.categoria===cat && p.ativo)
      .filter(p=>p.nome.toLowerCase().includes(searchText))
      .forEach(p=>{
        box.innerHTML += `
          <div class="item">
            <span class="item-name">${p.nome}</span>
            <span class="item-price">R$ ${p.preco.toFixed(2).replace('.',',')}</span>
            <button class="btn-add" onclick="addToCart('${p.id}')">+</button>
          </div>
        `;
      });
  });
}

/* =========================
   CARRINHO (EST√ÅVEL)
========================= */
function addToCart(id){
  if(!isOpen()){
    alert('Estamos fechados.\nTer√ßa a Domingo das 18:30 √†s 22:30');
    return;
  }
  const p = produtos.find(x=>x.id===id);
  cart.push(p);
  updateCart();
}

function updateCart(){
  const box = document.getElementById('cart');
  const list = document.getElementById('cartItems');
  list.innerHTML = '';
  let total = 0;

  cart.forEach((p,i)=>{
    total += p.preco;
    list.innerHTML += `
      <div class="cart-item">
        <strong>${p.nome}</strong>
        <span>R$ ${p.preco.toFixed(2).replace('.',',')}</span>
      </div>
    `;
  });

  document.getElementById('total').innerText =
    'Total: R$ ' + total.toFixed(2).replace('.',',');

  box.style.display = cart.length ? 'block' : 'none';
}
</script>
<script>
/* =========================
   PAINEL ADM ‚Äî PRE√áOS
========================= */
function openPricePanel(){
  document.getElementById('pricePanel').style.display = 'flex';
  renderPricePanel();
}
function closePricePanel(){
  document.getElementById('pricePanel').style.display = 'none';
}

/* =========================
   TOGGLES DO TOPO
========================= */
function toggleHiddenList(){
  document.getElementById('hiddenList').style.display = 'block';
  document.getElementById('newProductBox').style.display = 'none';
}
function toggleNewProduct(){
  document.getElementById('newProductBox').style.display = 'block';
  document.getElementById('hiddenList').style.display = 'none';
}

/* =========================
   RENDER PAINEL
========================= */
function renderPricePanel(){
  const list = document.getElementById('priceList');
  const hidden = document.getElementById('hiddenList');
  const novo = document.getElementById('newProductBox');

  list.innerHTML = '<h3>Produtos Ativos</h3>';
  hidden.innerHTML = '<h3 style="color:#b00020">Produtos Ocultos</h3>';

  produtos.forEach(p=>{
    if(p.ativo){
      list.innerHTML += `
        <div class="item">
          <span>${p.nome}</span>
          <input type="number" value="${p.preco}"
            onchange="updateTempPrice('${p.id}',this.value)">
          <button onclick="savePrice('${p.id}')">Salvar</button>
          <button onclick="hideProduct('${p.id}')">Ocultar</button>
        </div>`;
    } else {
      hidden.innerHTML += `
        <div class="item">
          <span>${p.nome}</span>
          <button onclick="showProduct('${p.id}')">Reativar</button>
        </div>`;
    }
  });

  novo.innerHTML = `
    <h3>Novo Produto</h3>
    <input id="newName" placeholder="Nome do produto">
    <input id="newPrice" type="number" placeholder="Pre√ßo">
    <select id="newCat">
      <option value="lanches">Lanches</option>
      <option value="porcoes">Por√ß√µes</option>
      <option value="pasteis">Past√©is</option>
      <option value="acai">A√ßa√≠</option>
      <option value="bebidas">Bebidas</option>
    </select>
    <button onclick="addNewProduct()">Adicionar</button>
  `;
}

/* =========================
   A√á√ïES ADM
========================= */
function updateTempPrice(id,val){
  const p = produtos.find(x=>x.id===id);
  p.precoTemp = Number(val);
}

function savePrice(id){
  const p = produtos.find(x=>x.id===id);
  if(p.precoTemp !== undefined){
    p.preco = p.precoTemp;
    delete p.precoTemp;
  }
  alert('Pre√ßo atualizado com sucesso');
  renderAll();
}

function hideProduct(id){
  const p = produtos.find(x=>x.id===id);
  p.ativo = false;
  alert('Produto ocultado com sucesso');
  renderPricePanel();
  renderAll();
}

function showProduct(id){
  const p = produtos.find(x=>x.id===id);
  p.ativo = true;
  alert('Produto reativado');
  renderPricePanel();
  renderAll();
}

function addNewProduct(){
  const nome = document.getElementById('newName').value;
  const preco = Number(document.getElementById('newPrice').value);
  const cat = document.getElementById('newCat').value;

  if(!nome || !preco){
    alert('Preencha todos os campos');
    return;
  }

  produtos.push({
    id:'N'+Date.now(),
    nome,preco,categoria:cat,ativo:true
  });

  alert('Produto adicionado com sucesso');
  renderPricePanel();
  renderAll();
}
</script>
<script>
/* =========================
   PAINEL ADM ‚Äî OFERTAS
========================= */
function openOfferPanel(){
  document.getElementById('offerPanel').style.display = 'flex';
  renderOfferPanel();
}
function closeOfferPanel(){
  document.getElementById('offerPanel').style.display = 'none';
}

function renderOfferPanel(){
  const box = document.getElementById('offerList');
  box.innerHTML = '';

  produtos.forEach(p=>{
    if(!p.ativo) return;

    box.innerHTML += `
      <div class="item">
        <strong>${p.nome}</strong>

        <input type="number"
          placeholder="Pre√ßo da oferta"
          value="${p.oferta?.preco ?? ''}"
          onchange="setOfferPrice('${p.id}',this.value)">

        <input type="date"
          value="${p.oferta?.inicio ?? ''}"
          onchange="setOfferStart('${p.id}',this.value)">

        <input type="date"
          value="${p.oferta?.fim ?? ''}"
          onchange="setOfferEnd('${p.id}',this.value)">

        <button onclick="saveOffer('${p.id}')">Salvar Oferta</button>

        ${p.oferta ? `<button onclick="removeOffer('${p.id}')">Desativar</button>` : ``}
      </div>
    `;
  });
}

function setOfferPrice(id,val){
  const p = produtos.find(x=>x.id===id);
  if(!p.oferta) p.oferta = {};
  p.oferta.preco = Number(val);
}
function setOfferStart(id,val){
  const p = produtos.find(x=>x.id===id);
  if(!p.oferta) p.oferta = {};
  p.oferta.inicio = val;
}
function setOfferEnd(id,val){
  const p = produtos.find(x=>x.id===id);
  if(!p.oferta) p.oferta = {};
  p.oferta.fim = val;
}

function saveOffer(id){
  const p = produtos.find(x=>x.id===id);
  if(!p.oferta?.preco || !p.oferta?.inicio || !p.oferta?.fim){
    alert('Preencha pre√ßo, in√≠cio e fim da oferta');
    return;
  }
  alert('Oferta salva com sucesso');
  renderAll();
}

function removeOffer(id){
  const p = produtos.find(x=>x.id===id);
  delete p.oferta;
  alert('Oferta desativada');
  renderOfferPanel();
  renderAll();
}

/* =========================
   PRE√áO COM OFERTA (CLIENTE)
========================= */
function getDisplayPrice(p){
  if(p.oferta){
    const hoje = new Date().toISOString().split('T')[0];
    if(hoje >= p.oferta.inicio && hoje <= p.oferta.fim){
      return `
        <span style="text-decoration:line-through;color:#999">
          R$ ${p.preco.toFixed(2).replace('.',',')}
        </span>
        <span style="color:#b00020;font-weight:900">
          R$ ${p.oferta.preco.toFixed(2).replace('.',',')} üî•
        </span>
      `;
    }
  }
  return `R$ ${p.preco.toFixed(2).replace('.',',')}`;
}

/* =========================
   AJUSTE RENDER PARA OFERTA
========================= */
/* sobrescreve apenas a parte visual do pre√ßo */
const originalRenderAll = renderAll;
renderAll = function(){
  ['lanches','porcoes','pasteis','acai','bebidas'].forEach(cat=>{
    const box = document.getElementById(cat);
    box.innerHTML = '';

    produtos
      .filter(p=>p.categoria===cat && p.ativo)
      .filter(p=>p.nome.toLowerCase().includes(searchText))
      .forEach(p=>{
        box.innerHTML += `
          <div class="item">
            <span class="item-name">${p.nome}</span>
            <span class="item-price">${getDisplayPrice(p)}</span>
            <button class="btn-add" onclick="addToCart('${p.id}')">+</button>
          </div>
        `;
      });
  });
};

/* =========================
   FINALIZAR PEDIDO
   (BEBIDA SIM / N√ÉO)
========================= */
function finishOrder(){
  const temBebida = cart.some(i => i.categoria === 'bebidas');

  if(!temBebida){
    if(confirm('Vai querer bebida?')){
      openTab('bebidas');
      return;
    }
  }
  sendOrder();
}

/* =========================
   WHATSAPP
========================= */
function sendOrder(){
  let msg = 'üçî Pedido Rabika\'s Burguer\n\n';
  let total = 0;

  cart.forEach(p=>{
    let precoFinal = p.oferta ? p.oferta.preco : p.preco;
    msg += `- ${p.nome} R$ ${precoFinal.toFixed(2).replace('.',',')}\n`;
    total += precoFinal;
  });

  msg += `\nTotal: R$ ${total.toFixed(2).replace('.',',')}`;

  window.open(
    'https://wa.me/554991789706?text=' +
    encodeURIComponent(msg)
  );
}

/* =========================
   PAIN√âIS HTML
========================= */
</script>

<!-- PAINEL DE PRE√áOS -->
<div id="pricePanel" class="modal">
  <div class="modal-box">
    <div class="modal-close" onclick="closePricePanel()">‚úï</div>
    <div class="modal-title">Painel de Pre√ßos</div>

    <div style="display:flex;gap:10px;margin-bottom:12px">
      <button onclick="toggleHiddenList()">Produtos Ocultos</button>
      <button onclick="toggleNewProduct()">+ Novo Produto</button>
    </div>

    <div id="priceList"></div>
    <div id="hiddenList" style="display:none"></div>
    <div id="newProductBox" style="display:none"></div>
  </div>
</div>

<!-- PAINEL DE OFERTAS -->
<div id="offerPanel" class="modal">
  <div class="modal-box">
    <div class="modal-close" onclick="closeOfferPanel()">‚úï</div>
    <div class="modal-title">Painel de Ofertas</div>
    <div id="offerList"></div>
  </div>
</div>

</body>
</html>
