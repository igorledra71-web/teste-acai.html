<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>Rabika's Burguer</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root{
  --red:#e50914;
  --bg:#141414;
  --card:#ffffff;
  --soft:#f2f2f2;
  --text:#111;
  --dark:#000;
}

*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Arial;
}

body{
  background:var(--bg);
  display:flex;
  justify-content:center;
}

#app{
  width:100%;
  max-width:480px;
  background:#f7f7f7;
  min-height:100vh;
  display:none;
}

/* SPLASH */
#splash{
  position:fixed;
  inset:0;
  background:#000;
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:9999;
}
#splash h1{
  color:var(--red);
  font-size:38px;
  letter-spacing:3px;
  text-align:center;
}
#splash button{
  margin-top:30px;
  background:var(--red);
  color:#fff;
  border:none;
  padding:18px 50px;
  border-radius:30px;
  font-size:18px;
  cursor:pointer;
  animation:pulse 1.8s infinite;
}
@keyframes pulse{
  0%{transform:scale(1)}
  50%{transform:scale(1.08)}
  100%{transform:scale(1)}
}

/* HEADER */
.header{
  background:#fff;
  padding:16px;
  font-size:22px;
  font-weight:700;
  text-align:center;
  border-bottom:1px solid #ddd;
}

/* BUSCA */
.search-box{
  padding:14px;
  background:#fff;
}
.search-input{
  width:100%;
  padding:14px;
  border-radius:12px;
  border:1px solid #ddd;
  font-size:16px;
}
.search-results{
  background:#fff;
  margin-top:6px;
  border-radius:10px;
  box-shadow:0 4px 12px rgba(0,0,0,.1);
  display:none;
}
.search-item{
  padding:10px;
  border-bottom:1px solid #eee;
}

/* CATEGORIA */
.category-btn{
  padding:16px;
  font-size:20px;
  font-weight:700;
  background:#fff;
  margin-top:10px;
  cursor:pointer;
  border-bottom:1px solid #eee;
}

/* LISTA */
.content-box{
  display:none;
  padding:10px;
}

/* ITEM */
.item{
  background:#fff;
  border-radius:16px;
  padding:14px;
  margin-bottom:10px;
  display:grid;
  grid-template-columns:1fr auto auto;
  align-items:center;
  gap:10px;
  box-shadow:0 2px 8px rgba(0,0,0,.08);
}
.price{
  font-weight:700;
}
.price.oferta{
  color:var(--red);
}
.badge{
  background:var(--red);
  color:#fff;
  font-size:10px;
  padding:2px 6px;
  border-radius:6px;
  margin-left:6px;
}
.btn-add{
  background:var(--red);
  color:#fff;
  border:none;
  width:38px;
  height:38px;
  border-radius:50%;
  font-size:22px;
  cursor:pointer;
}

/* SUB */
.sub-btn{
  background:#eee;
  padding:14px;
  border-radius:12px;
  font-weight:700;
  margin:10px 0;
  cursor:pointer;
}

/* CARRINHO */
#cart{
  position:fixed;
  bottom:0;
  width:100%;
  max-width:480px;
  background:#fff;
  border-top:1px solid #ddd;
  padding:14px;
  display:none;
}
.cart-item{
  display:flex;
  justify-content:space-between;
  margin-bottom:6px;
}
.remove{
  color:var(--red);
  cursor:pointer;
}
.total{
  font-weight:700;
  margin-top:8px;
}
.btn-finish{
  background:var(--red);
  color:#fff;
  padding:16px;
  border-radius:14px;
  text-align:center;
  font-weight:700;
  margin-top:10px;
  cursor:pointer;
}
</style>
</head>

<body>

<div id="splash">
  <div>
    <h1>RABIKA‚ÄôS<br>BURGUER</h1>
    <button onclick="startApp()">FAZER PEDIDO</button>
  </div>
</div>

<div id="app">
  <div class="header">Rabika‚Äôs Burguer</div>

  <div class="search-box">
    <input class="search-input" placeholder="Pesquisar produto ou digite oferta" oninput="search(this.value)">
    <div class="search-results" id="results"></div>
  </div>
<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>Rabika's Burguer</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root{
  --red:#e50914;
  --bg:#141414;
  --card:#ffffff;
  --soft:#f2f2f2;
  --text:#111;
  --dark:#000;
}

*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Arial;
}

body{
  background:var(--bg);
  display:flex;
  justify-content:center;
}

#app{
  width:100%;
  max-width:480px;
  background:#f7f7f7;
  min-height:100vh;
  display:none;
}

/* SPLASH */
#splash{
  position:fixed;
  inset:0;
  background:#000;
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:9999;
}
#splash h1{
  color:var(--red);
  font-size:38px;
  letter-spacing:3px;
  text-align:center;
}
#splash button{
  margin-top:30px;
  background:var(--red);
  color:#fff;
  border:none;
  padding:18px 50px;
  border-radius:30px;
  font-size:18px;
  cursor:pointer;
  animation:pulse 1.8s infinite;
}
@keyframes pulse{
  0%{transform:scale(1)}
  50%{transform:scale(1.08)}
  100%{transform:scale(1)}
}

/* HEADER */
.header{
  background:#fff;
  padding:16px;
  font-size:22px;
  font-weight:700;
  text-align:center;
  border-bottom:1px solid #ddd;
}

/* BUSCA */
.search-box{
  padding:14px;
  background:#fff;
}
.search-input{
  width:100%;
  padding:14px;
  border-radius:12px;
  border:1px solid #ddd;
  font-size:16px;
}
.search-results{
  background:#fff;
  margin-top:6px;
  border-radius:10px;
  box-shadow:0 4px 12px rgba(0,0,0,.1);
  display:none;
}
.search-item{
  padding:10px;
  border-bottom:1px solid #eee;
}

/* CATEGORIA */
.category-btn{
  padding:16px;
  font-size:20px;
  font-weight:700;
  background:#fff;
  margin-top:10px;
  cursor:pointer;
  border-bottom:1px solid #eee;
}

/* LISTA */
.content-box{
  display:none;
  padding:10px;
}

/* ITEM */
.item{
  background:#fff;
  border-radius:16px;
  padding:14px;
  margin-bottom:10px;
  display:grid;
  grid-template-columns:1fr auto auto;
  align-items:center;
  gap:10px;
  box-shadow:0 2px 8px rgba(0,0,0,.08);
}
.price{
  font-weight:700;
}
.price.oferta{
  color:var(--red);
}
.badge{
  background:var(--red);
  color:#fff;
  font-size:10px;
  padding:2px 6px;
  border-radius:6px;
  margin-left:6px;
}
.btn-add{
  background:var(--red);
  color:#fff;
  border:none;
  width:38px;
  height:38px;
  border-radius:50%;
  font-size:22px;
  cursor:pointer;
}

/* SUB */
.sub-btn{
  background:#eee;
  padding:14px;
  border-radius:12px;
  font-weight:700;
  margin:10px 0;
  cursor:pointer;
}

/* CARRINHO */
#cart{
  position:fixed;
  bottom:0;
  width:100%;
  max-width:480px;
  background:#fff;
  border-top:1px solid #ddd;
  padding:14px;
  display:none;
}
.cart-item{
  display:flex;
  justify-content:space-between;
  margin-bottom:6px;
}
.remove{
  color:var(--red);
  cursor:pointer;
}
.total{
  font-weight:700;
  margin-top:8px;
}
.btn-finish{
  background:var(--red);
  color:#fff;
  padding:16px;
  border-radius:14px;
  text-align:center;
  font-weight:700;
  margin-top:10px;
  cursor:pointer;
}
</style>
</head>

<body>

<div id="splash">
  <div>
    <h1>RABIKA‚ÄôS<br>BURGUER</h1>
    <button onclick="startApp()">FAZER PEDIDO</button>
  </div>
</div>

<div id="app">
  <div class="header">Rabika‚Äôs Burguer</div>

  <div class="search-box">
    <input class="search-input" placeholder="Pesquisar produto ou digite oferta" oninput="search(this.value)">
    <div class="search-results" id="results"></div>
  </div>
<!-- ================= POR√á√ïES ================= -->
<div class="category-btn" onclick="toggleBox('porcoes')">üçü Por√ß√µes</div>
<div class="content-box" id="porcoes">

  <div class="item"><span>Fritas c/ Frango</span><span class="price">R$ 39,99</span><button class="btn-add" onclick="add('Fritas com Frango',39.99)">+</button></div>
  <div class="item"><span>Fritas</span><span class="price">R$ 24,99</span><button class="btn-add" onclick="add('Fritas',24.99)">+</button></div>
  <div class="item"><span>Fritas c/ Calabresa</span><span class="price">R$ 34,99</span><button class="btn-add" onclick="add('Fritas com Calabresa',34.99)">+</button></div>
  <div class="item"><span>Til√°pia</span><span class="price">R$ 34,99</span><button class="btn-add" onclick="add('Til√°pia',34.99)">+</button></div>
  <div class="item"><span>Fritas c/ Bacon</span><span class="price">R$ 34,99</span><button class="btn-add" onclick="add('Fritas com Bacon',34.99)">+</button></div>
  <div class="item"><span>An√©is de Cebola</span><span class="price">R$ 24,99</span><button class="btn-add" onclick="add('An√©is de Cebola',24.99)">+</button></div>
  <div class="item"><span>Fritas c/ Bacon, Calabresa e Queijo</span><span class="price">R$ 39,99</span><button class="btn-add" onclick="add('Fritas Bacon Calabresa Queijo',39.99)">+</button></div>
  <div class="item"><span>Fritas c/ Bacon Cheddar</span><span class="price">R$ 39,99</span><button class="btn-add" onclick="add('Fritas Bacon Cheddar',39.99)">+</button></div>
  <div class="item"><span>Fritas c/ Polenta e Frango</span><span class="price">R$ 39,99</span><button class="btn-add" onclick="add('Fritas Polenta Frango',39.99)">+</button></div>
  <div class="item"><span>Fritas c/ Polenta</span><span class="price">R$ 24,99</span><button class="btn-add" onclick="add('Fritas Polenta',24.99)">+</button></div>
  <div class="item"><span>Fritas c/ Calabresa e Catupiry</span><span class="price">R$ 35,99</span><button class="btn-add" onclick="add('Fritas Calabresa Catupiry',35.99)">+</button></div>
  <div class="item"><span>Fritas, Polenta, Chuleta e Anel de Cebola</span><span class="price">R$ 49,99</span><button class="btn-add" onclick="add('Por√ß√£o Completa',49.99)">+</button></div>

</div>

<!-- ================= BEBIDAS ================= -->
<div class="category-btn" onclick="toggleBox('bebidas')">ü•§ Bebidas</div>
<div class="content-box" id="bebidas">

  <div class="item"><span>Cassulinha 200ml</span><span class="price">R$ 3,00</span><button class="btn-add" onclick="add('Cassulinha 200ml',3)">+</button></div>
  <div class="item"><span>Coca-Cola 600ml</span><span class="price">R$ 8,00</span><button class="btn-add" onclick="add('Coca-Cola 600ml',8)">+</button></div>
  <div class="item"><span>Coca-Cola 2L</span><span class="price">R$ 16,00</span><button class="btn-add" onclick="add('Coca-Cola 2L',16)">+</button></div>
  <div class="item"><span>Refri Lata</span><span class="price">R$ 6,00</span><button class="btn-add" onclick="add('Refri Lata',6)">+</button></div>
  <div class="item"><span>Refrigerante 2L</span><span class="price">R$ 12,00</span><button class="btn-add" onclick="add('Refrigerante 2L',12)">+</button></div>
  <div class="item"><span>Cerveja Lata 350ml</span><span class="price">R$ 6,00</span><button class="btn-add" onclick="add('Cerveja Lata 350ml',6)">+</button></div>
  <div class="item"><span>Achocolatado 200ml</span><span class="price">R$ 3,00</span><button class="btn-add" onclick="add('Achocolatado 200ml',3)">+</button></div>

</div>

<!-- ================= A√áA√ç ================= -->
<div class="category-btn" onclick="toggleBox('acai')">üç® A√ßa√≠</div>
<div class="content-box" id="acai">

  <div class="sub-btn" onclick="toggleBox('acaiTamanhos')">ü•§ Tamanhos</div>
  <div class="content-box" id="acaiTamanhos">

    <div class="item"><span>300ml</span><span class="price">R$ 12,00</span><button class="btn-add" onclick="add('A√ßa√≠ 300ml',12)">+</button></div>
    <div class="item"><span>400ml</span><span class="price">R$ 15,00</span><button class="btn-add" onclick="add('A√ßa√≠ 400ml',15)">+</button></div>
    <div class="item"><span>500ml</span><span class="price">R$ 18,00</span><button class="btn-add" onclick="add('A√ßa√≠ 500ml',18)">+</button></div>

  </div>

  <div class="sub-btn" onclick="toggleBox('acaiAdicionais')">üç´ Adicionais</div>
  <div class="content-box" id="acaiAdicionais">

    <div class="item"><span>Pa√ßoca</span><span class="price">R$ 2,00</span><button class="btn-add" onclick="add('Pa√ßoca',2)">+</button></div>
    <div class="item"><span>Leite em p√≥</span><span class="price">R$ 4,00</span><button class="btn-add" onclick="add('Leite em p√≥',4)">+</button></div>
    <div class="item"><span>Granola</span><span class="price">R$ 4,00</span><button class="btn-add" onclick="add('Granola',4)">+</button></div>
    <div class="item"><span>Morango</span><span class="price">R$ 4,00</span><button class="btn-add" onclick="add('Morango',4)">+</button></div>
    <div class="item"><span>M&M</span><span class="price">R$ 3,00</span><button class="btn-add" onclick="add('M&M',3)">+</button></div>
    <div class="item"><span>Ouro Branco</span><span class="price">R$ 3,00</span><button class="btn-add" onclick="add('Ouro Branco',3)">+</button></div>
    <div class="item"><span>Banana</span><span class="price">R$ 2,00</span><button class="btn-add" onclick="add('Banana',2)">+</button></div>
    <div class="item"><span>Sonho de Valsa</span><span class="price">R$ 3,00</span><button class="btn-add" onclick="add('Sonho de Valsa',3)">+</button></div>
    <div class="item"><span>Leite Condensado</span><span class="price">R$ 3,00</span><button class="btn-add" onclick="add('Leite Condensado',3)">+</button></div>
    <div class="item"><span>Nutella</span><span class="price">R$ 4,00</span><button class="btn-add" onclick="add('Nutella',4)">+</button></div>

  </div>

</div>
<script>
/* ================= VARI√ÅVEIS ================= */
let cart = [];
let entrega = false;
let offers = JSON.parse(localStorage.getItem("offers")) || {};

/* ================= START APP ================= */
function startApp(){
  document.getElementById("splash").style.display = "none";
  document.getElementById("app").style.display = "block";
  aplicarOfertas();
}

/* ================= ABAS ================= */
function toggleBox(id){
  const el = document.getElementById(id);
  el.style.display = el.style.display === "block" ? "none" : "block";
}

/* ================= HOR√ÅRIO ================= */
function estaAberto(){
  const d = new Date();
  const dia = d.getDay(); // 0 dom / 1 seg
  const hora = d.getHours() + d.getMinutes()/60;

  if(dia === 1) return false; // segunda fechado
  if(hora < 18.5 || hora > 22.5) return false;

  return true;
}

/* ================= ADD AO CARRINHO ================= */
function add(name, price){
  if(!estaAberto()){
    alert("‚è∞ Estamos fechados.\nTer√ßa a Domingo das 18:30 √†s 22:30");
    return;
  }
  cart.push({name, price});
  updateCart();
}

/* ================= REMOVER ================= */
function removeItem(i){
  cart.splice(i,1);
  updateCart();
}

/* ================= CARRINHO ================= */
function updateCart(){
  const box = document.getElementById("cart");
  box.innerHTML = "";
  let total = 0;

  cart.forEach((item,i)=>{
    total += item.price;
    box.innerHTML += `
      <div class="cart-item">
        <span>${item.name}</span>
        <span>
          R$ ${item.price.toFixed(2).replace('.',',')}
          <span class="remove" onclick="removeItem(${i})">‚ùå</span>
        </span>
      </div>`;
  });

  if(!cart.length){
    box.style.display = "none";
    return;
  }

  box.style.display = "block";

  box.innerHTML += `
    <hr style="margin:10px 0">

    <div>
      <label>
        <input type="radio" name="tipo" checked onclick="setEntrega(false)">
        Retirada
      </label>
      &nbsp;&nbsp;
      <label>
        <input type="radio" name="tipo" onclick="setEntrega(true)">
        Entrega (+ R$ 8)
      </label>
    </div>

    <div id="entregaBox" style="display:none;margin-top:10px">
      <input id="nomeCliente" class="search-input" placeholder="Seu nome">
      <input id="enderecoCliente" class="search-input" placeholder="Endere√ßo" style="margin-top:6px">

      <select id="pagamento" class="search-input" style="margin-top:6px">
        <option value="">Forma de pagamento</option>
        <option>Dinheiro</option>
        <option>Pix</option>
        <option>Cart√£o D√©bito</option>
        <option>Cart√£o Cr√©dito</option>
      </select>
    </div>

    <div class="total" id="totalBox">
      Total: R$ ${total.toFixed(2).replace('.',',')}
    </div>

    <div class="btn-finish" onclick="finalizar()">Finalizar Pedido</div>
  `;
}

/* ================= ENTREGA ================= */
function setEntrega(v){
  entrega = v;
  const box = document.getElementById("entregaBox");
  box.style.display = v ? "block" : "none";

  let total = cart.reduce((s,i)=>s+i.price,0);
  if(v) total += 8;

  document.getElementById("totalBox").innerText =
    "Total: R$ " + total.toFixed(2).replace('.',',');
}

/* ================= FINALIZAR ================= */
function finalizar(){
  if(entrega){
    const nome = document.getElementById("nomeCliente").value;
    const end = document.getElementById("enderecoCliente").value;
    const pag = document.getElementById("pagamento").value;

    if(!nome || !end || !pag){
      alert("Preencha nome, endere√ßo e forma de pagamento");
      return;
    }
  }

  alert("‚úÖ Pedido registrado com sucesso!");
  cart = [];
  entrega = false;
  updateCart();
}

/* ================= BUSCA ================= */
function search(q){
  const box = document.getElementById("results");
  box.innerHTML = "";
  q = q.toLowerCase().trim();

  if(!q){
    box.style.display = "none";
    return;
  }

  if(q === "oferta"){
    const senha = prompt("Senha administrativa:");
    if(senha === "adm"){
      abrirAdmin();
    }
    return;
  }

  document.querySelectorAll(".item span:first-child").forEach(el=>{
    if(el.innerText.toLowerCase().includes(q)){
      box.innerHTML += `<div class="search-item">${el.innerText}</div>`;
    }
  });

  box.style.display = box.innerHTML ? "block" : "none";
}

/* ================= ADMIN ================= */
function abrirAdmin(){
  const admin = document.getElementById("admin");
  admin.style.display = "block";
  carregarAdmin("lanches");
}

function fecharAdmin(){
  document.getElementById("admin").style.display = "none";
}

function carregarAdmin(cat){
  const admin = document.getElementById("admin");
  admin.innerHTML = `
    <div style="margin-bottom:10px">
      <button onclick="carregarAdmin('lanches')">Lanches</button>
      <button onclick="carregarAdmin('porcoes')">Por√ß√µes</button>
      <button onclick="carregarAdmin('bebidas')">Bebidas</button>
      <button onclick="carregarAdmin('pasteis')">Past√©is</button>
      <button onclick="carregarAdmin('acai')">A√ßa√≠</button>
      <button onclick="fecharAdmin()">Fechar</button>
    </div>
  `;

  document.querySelectorAll("#"+cat+" .item span:first-child").forEach(el=>{
    const nome = el.innerText.replace("OFERTA","").trim();
    admin.innerHTML += `
      <div class="admin-item">
        <b>${nome}</b><br>
        Pre√ßo oferta:
        <input type="number" id="p_${nome}" step="0.01"><br>
        Validade:
        <input type="date" id="d_${nome}"><br>
        <button onclick="salvarOferta('${nome}')">Salvar</button>
      </div>`;
  });
}

/* ================= SALVAR OFERTA ================= */
function salvarOferta(nome){
  const preco = document.getElementById("p_"+nome).value;
  const data = document.getElementById("d_"+nome).value;

  if(!preco || !data){
    alert("Informe pre√ßo e validade");
    return;
  }

  offers[nome] = {price:Number(preco), valid:data};
  localStorage.setItem("offers", JSON.stringify(offers));
  alert("Oferta salva!");
  aplicarOfertas();
}

/* ================= APLICAR OFERTAS ================= */
function aplicarOfertas(){
  const hoje = new Date();

  document.querySelectorAll(".item").forEach(item=>{
    const nomeEl = item.querySelector("span:first-child");
    const priceEl = item.querySelector(".price");
    const btn = item.querySelector(".btn-add");

    const nome = nomeEl.innerText.replace("OFERTA","").trim();

    if(offers[nome]){
      const validade = new Date(offers[nome].valid);
      if(validade >= hoje){
        priceEl.innerText =
          "R$ " + offers[nome].price.toFixed(2).replace('.',',');
        priceEl.classList.add("oferta");
        nomeEl.innerHTML = nome + ' <span class="badge">OFERTA</span>';
        btn.setAttribute("onclick","add('"+nome+"',"+offers[nome].price+")");
      }
    }
  });
}
</script>
<!-- ================= CARRINHO (FIXO NO RODAP√â) ================= -->
<div id="cart"></div>

<!-- ================= TELA ADMIN (OFERTAS) ================= -->
<div id="admin" style="
  position:fixed;
  inset:0;
  background:#f7f7f7;
  z-index:99999;
  display:none;
  overflow:auto;
  padding:16px;
">
</div>
</div> <!-- FIM DO #app -->

</body>
</html>
