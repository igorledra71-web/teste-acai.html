<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>Rabika's Burguer</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">

<style>
*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%}
body{
  font-family:'Poppins',sans-serif;
  background:linear-gradient(180deg,#06003a 0%,#0a045a 50%,#03001f 100%);
  color:#fff;
  display:flex;
  justify-content:center;
}

/* SPLASH */
#splash{
  position:fixed;
  inset:0;
  background:linear-gradient(180deg,#05002e,#020018);
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:9999;
}
.splash-box{text-align:center}
.splash-logo{
  width:340px;
  max-width:90%;
  margin-bottom:36px;
}
.splash-btn{
  background:linear-gradient(135deg,#FFD34D,#FFB000);
  border:none;
  padding:18px 54px;
  border-radius:44px;
  font-size:22px;
  font-weight:900;
  color:#2b0033;
  cursor:pointer;
}

/* APP */
#app{
  width:100%;
  max-width:420px;
  padding:14px 14px 320px;
  display:none;
}

/* TOPO */
.title{
  text-align:center;
  font-size:30px;
  font-weight:900;
  color:#FFD34D;
  margin-bottom:6px;
}
#status{
  text-align:center;
  font-size:13px;
  margin-bottom:4px;
}
#hours{
  text-align:center;
  font-size:12px;
  color:#FFD34D;
  margin-bottom:12px;
}

/* BUSCA */
.search{
  width:100%;
  padding:14px 18px;
  border-radius:28px;
  border:none;
  font-size:15px;
  margin-bottom:16px;
  outline:none;
}

/* ABAS */
.tabs{
  display:grid;
  grid-template-columns:repeat(5,1fr);
  gap:10px;
  margin-bottom:14px;
}
.tab{
  background:#fff;
  color:#2b0033;
  padding:12px 6px;
  border-radius:22px;
  font-weight:800;
  font-size:12px;
  text-align:center;
  cursor:pointer;
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:6px;
  transition:.2s;
}
.tab span{font-size:22px}
.tab.active{
  background:#FFD34D;
  transform:scale(1.06);
}

/* BOX */
.box{
  background:#fff;
  color:#2b0033;
  border-radius:28px;
  padding:18px;
  margin-bottom:20px;
  display:none;
}
.box.active{display:block}

/* ITEM */
.item{
  display:grid;
  grid-template-columns:1fr auto auto;
  gap:10px;
  padding:12px 0;
  border-bottom:1px dashed #ddd;
  align-items:center;
}
.item:last-child{border:none}
.item-price{
  font-weight:900;
  color:#5a0070;
}
.btn-add{
  background:#5a0070;
  color:#fff;
  border:none;
  border-radius:14px;
  padding:6px 14px;
  font-weight:900;
}

/* SE√á√ïES */
.section{
  font-weight:900;
  margin:14px 0 6px;
  color:#5a0070;
}

/* CARRINHO */
#cart{
  position:fixed;
  bottom:0;
  left:50%;
  transform:translateX(-50%);
  width:100%;
  max-width:420px;
  background:#fff;
  color:#2b0033;
  padding:16px;
  border-radius:26px 26px 0 0;
  display:none;
  z-index:999;
}
.cart-item{
  display:flex;
  justify-content:space-between;
  margin-bottom:6px;
}
.btn-green{
  background:#25D366;
  color:#fff;
  border:none;
  padding:14px;
  border-radius:22px;
  font-weight:900;
  width:100%;
}

/* MODAIS */
.modal{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.6);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:10000;
}
.modal-box{
  background:#fff;
  color:#2b0033;
  width:92%;
  max-width:420px;
  border-radius:26px;
  padding:20px;
  max-height:85vh;
  overflow-y:auto;
  position:relative;
}
.modal-close{
  position:absolute;
  top:10px;
  right:14px;
  font-size:22px;
  font-weight:900;
  cursor:pointer;
}
</style>
</head>

<body>
<!-- SPLASH -->
<div id="splash">
  <div class="splash-box">
    <img src="logo.png" alt="Rabika's Burguer" class="splash-logo">
    <button class="splash-btn" onclick="start()">FAZER PEDIDO</button>
  </div>
</div>

<!-- APP -->
<div id="app">
  <div class="title">Rabika's Burguer</div>
  <div id="status"></div>
  <div id="hours">üïí Ter√ßa a Domingo ‚Äî 18:30 √†s 22:30</div>

  <input id="search" class="search" type="text" placeholder="Pesquisar no card√°pio...">

  <div class="tabs">
    <div class="tab" onclick="openTab('lanches',this)"><span>üçî</span>Lanches</div>
    <div class="tab" onclick="openTab('porcoes',this)"><span>üçü</span>Por√ß√µes</div>
    <div class="tab" onclick="openTab('pasteis',this)"><span>ü•ü</span>Past√©is</div>
    <div class="tab" onclick="openTab('acai',this)"><span>üç®</span>A√ßa√≠</div>
    <div class="tab" onclick="openTab('bebidas',this)"><span>ü•§</span>Bebidas</div>
  </div>

  <div id="lanches" class="box"></div>
  <div id="porcoes" class="box"></div>
  <div id="pasteis" class="box"></div>
  <div id="acai" class="box"></div>
  <div id="bebidas" class="box"></div>
</div>

<!-- CARRINHO -->
<div id="cart">
  <div id="cartItems"></div>
  <div id="total" style="font-weight:900;margin:8px 0"></div>
  <button class="btn-green" onclick="sendOrder()">Finalizar Pedido</button>
</div>

<!-- ADMIN -->
<div id="adminModal" class="modal">
  <div class="modal-box">
    <div class="modal-close" onclick="closeAdmin()">‚úï</div>
    <h2 style="text-align:center;color:#5a0070">Painel Admin</h2>
    <h3 style="margin-top:12px;color:#5a0070">Produtos Ativos</h3>
    <div id="adminActive"></div>
    <h3 style="margin-top:16px;color:#b00020">Produtos Ocultos</h3>
    <div id="adminHidden"></div>
    <h3 style="margin-top:16px;color:#5a0070">+ Novo Produto</h3>
    <input id="newName" class="search" placeholder="Nome do produto">
    <input id="newPrice" class="search" type="number" placeholder="Pre√ßo">
    <select id="newCategory" class="search">
      <option value="">Categoria</option>
      <option value="lanches">Lanches</option>
      <option value="adicionaisLanches">Adicionais</option>
      <option value="porcoes">Por√ß√µes</option>
      <option value="pasteis">Past√©is</option>
      <option value="acaiTamanhos">A√ßa√≠ (Tamanho)</option>
      <option value="acaiAdicionais">A√ßa√≠ (Adicional)</option>
      <option value="bebidas">Bebidas</option>
    </select>
    <button class="btn-green" onclick="addNewProduct()">Adicionar Produto</button>
  </div>
</div>

<!-- OFERTAS -->
<div id="offerModal" class="modal">
  <div class="modal-box">
    <div class="modal-close" onclick="closeOffer()">‚úï</div>
    <h2 style="text-align:center;color:#5a0070">Ofertas</h2>
    <div id="offerList"></div>
  </div>
</div>

<!-- RELAT√ìRIO -->
<div id="reportModal" class="modal">
  <div class="modal-box">
    <div class="modal-close" onclick="closeReport()">‚úï</div>
    <h2 style="text-align:center;color:#5a0070">Relat√≥rio de Vendas</h2>
    <div style="margin-top:14px;font-weight:600">
      <div>Total: <strong id="repTotal"></strong></div>
      <div>Dinheiro: <strong id="repCash"></strong></div>
      <div>Pix: <strong id="repPix"></strong></div>
      <div>D√©bito: <strong id="repDebit"></strong></div>
      <div>Cr√©dito: <strong id="repCredit"></strong></div>
    </div>
  </div>
</div>
<script>
const ADMIN_PASSWORD="1234";
const FREIGHT=8;
let cart=[];
let currentTab=null;

let customPrices=JSON.parse(localStorage.getItem("customPrices"))||{};
let productStatus=JSON.parse(localStorage.getItem("productStatus"))||{};
let extraProducts=JSON.parse(localStorage.getItem("extraProducts"))||{};
let offers=JSON.parse(localStorage.getItem("offers"))||{};
let sales=JSON.parse(localStorage.getItem("sales"))||[];

function isOpen(){
  const d=new Date(), day=d.getDay(), h=d.getHours()+d.getMinutes()/60;
  if(day===1) return false;
  if(h<18.5||h>22.5) return false;
  return true;
}

const products={/* produtos completos ‚Äì continuam na parte 4 */};
<script>
/* ================= PRODUTOS BASE ================= */
const products={
  lanches:[
    {n:"X-Salada",p:17},{n:"X-Burguer",p:14},{n:"X-Frango",p:22},
    {n:"X-Frango Cremoso",p:20},{n:"X-Bacon",p:25},{n:"X-Calabresa",p:25},
    {n:"X-Cora√ß√£o",p:27},{n:"X-Tudo",p:32},{n:"X-Burguer Duplo",p:22},
    {n:"X-Egg",p:20},{n:"X-Tribom",p:32},{n:"X-Da Casa",p:45},{n:"X-Dog",p:20}
  ],
  adicionaisLanches:[
    {n:"Calabresa",p:7},{n:"Bacon",p:7},{n:"Cora√ß√£o",p:8},{n:"Ovo",p:3},
    {n:"Salsicha",p:4},{n:"Frango",p:7},{n:"Cheddar",p:4},
    {n:"Hamb√∫rguer artesanal",p:10},{n:"Maionese caseira",p:2}
  ],
  porcoes:[
    {n:"Fritas c/ Frango",p:39.99},{n:"Fritas",p:24.99},
    {n:"Fritas c/ Calabresa",p:34.99},{n:"Fritas c/ Bacon",p:34.99},
    {n:"An√©is de Cebola",p:24.99},
    {n:"Fritas c/ Bacon, Calabresa e Queijo",p:39.99},
    {n:"Fritas c/ Bacon Cheddar",p:39.99},
    {n:"Fritas c/ Polenta e Frango",p:39.99},
    {n:"Fritas c/ Polenta",p:24.99},
    {n:"Fritas c/ Calabresa e Catupiry",p:35.99},
    {n:"Fritas, Polenta, Chuleta e Anel de Cebola",p:49.99}
  ],
  pasteis:[
    {n:"Pastel de Carne",p:14},{n:"Pastel de Frango",p:12},
    {n:"Frango Bacon Cheddar",p:16},{n:"Bacon Cheddar",p:15},
    {n:"Calabresa c/ Cebola",p:14},{n:"Carne e Queijo",p:15},
    {n:"Queijo",p:14},{n:"Chocolate ao Leite",p:15},
    {n:"Banana Queijo Canela",p:15},{n:"Romeu e Julieta",p:15},
    {n:"Chocolate Branco",p:15},{n:"Creme e Ouro Branco",p:15},
    {n:"Creme e Sonho de Valsa",p:15}
  ],
  acaiTamanhos:[
    {n:"A√ßa√≠ 300ml",p:12},{n:"A√ßa√≠ 400ml",p:15},{n:"A√ßa√≠ 500ml",p:18}
  ],
  acaiAdicionais:[
    {n:"Pa√ßoca",p:2},{n:"Leite em p√≥",p:4},{n:"Granola",p:4},
    {n:"Morango",p:4},{n:"M&M",p:3},{n:"Ouro Branco",p:3},
    {n:"Banana",p:2},{n:"Sonho de Valsa",p:3},
    {n:"Leite Condensado",p:3},{n:"Nutella",p:4}
  ],
  bebidas:[
    {n:"Cassulinha 200ml",p:3},{n:"Coca-Cola 600ml",p:8},
    {n:"Coca-Cola 2L",p:16},{n:"Refri Lata",p:6},
    {n:"Refrigerante 2L",p:12},{n:"Cerveja Lata 350ml",p:6},
    {n:"Achocolatado 200ml",p:3}
  ]
};

/* ================= UTILIT√ÅRIOS ================= */
function getAllProducts(){
  let all=JSON.parse(JSON.stringify(products));
  Object.keys(extraProducts).forEach(c=>{
    all[c]=(all[c]||[]).concat(extraProducts[c]);
  });
  return all;
}
function getPrice(p){
  const base=customPrices[p.n]??p.p;
  const o=offers[p.n];
  if(o){
    const t=new Date().toISOString().split("T")[0];
    if(t>=o.start&&t<=o.end) return o.price;
  }
  return base;
}

/* ================= CARRINHO ================= */
function addItem(name,price){
  if(!isOpen()){
    alert("Estamos fechados.\nTer√ßa a Domingo das 18:30 √†s 22:30");
    return;
  }
  cart.push({name,price});
  updateCart();
}
function updateCart(){
  const box=document.getElementById("cartItems");
  box.innerHTML="";
  let total=0;
  cart.forEach(i=>{
    total+=i.price;
    box.innerHTML+=`<div class="cart-item"><span>${i.name}</span><span>R$ ${i.price.toFixed(2).replace(".",",")}</span></div>`;
  });
  document.getElementById("total").innerText="Total: R$ "+total.toFixed(2).replace(".",",");
  document.getElementById("cart").style.display=cart.length?"block":"none";
}

/* ================= WHATSAPP ================= */
function sendOrder(){
  if(!cart.length){alert("Seu carrinho est√° vazio");return;}
  const payment=(prompt("Forma de pagamento? (dinheiro / pix / debito / credito)")||"dinheiro").toLowerCase();
  let msg="üçî Pedido Rabika's Burguer\n\n",total=0;
  cart.forEach(i=>{msg+=`- ${i.name} R$ ${i.price.toFixed(2).replace(".",",")}\n`;total+=i.price;});
  msg+=`\nPagamento: ${payment}\nTotal: R$ ${total.toFixed(2).replace(".",",")}`;
  sales.push({date:new Date().toISOString(),total,payment});
  localStorage.setItem("sales",JSON.stringify(sales));
  window.open("https://wa.me/554991789706?text="+encodeURIComponent(msg),"_blank");
  cart=[];
  updateCart();
}

/* ================= ADMIN ================= */
function openAdmin(){document.getElementById("adminModal").style.display="flex";renderAdmin();}
function closeAdmin(){document.getElementById("adminModal").style.display="none";}
function renderAdmin(){
  const a=document.getElementById("adminActive"),h=document.getElementById("adminHidden");
  a.innerHTML="";h.innerHTML="";
  const all=getAllProducts();
  Object.keys(all).forEach(c=>{
    all[c].forEach(p=>{
      const price=getPrice(p),hid=productStatus[p.n]===false;
      const html=`<div style="margin-bottom:12px"><strong>${p.n}</strong><input type="number" class="search" value="${price}" id="price-${p.n}"><button class="btn-green" onclick="savePrice('${p.n}')">Salvar</button><button class="btn-green" style="background:#999" onclick="toggleProduct('${p.n}')">${hid?"Reativar":"Ocultar"}</button></div>`;
      hid?h.innerHTML+=html:a.innerHTML+=html;
    });
  });
}
function savePrice(n){
  customPrices[n]=Number(document.getElementById("price-"+n).value);
  localStorage.setItem("customPrices",JSON.stringify(customPrices));
  renderAll();
}
function toggleProduct(n){
  productStatus[n]=productStatus[n]===false?true:false;
  localStorage.setItem("productStatus",JSON.stringify(productStatus));
  renderAll();renderAdmin();
}
function addNewProduct(){
  const n=document.getElementById("newName").value.trim();
  const p=Number(document.getElementById("newPrice").value);
  const c=document.getElementById("newCategory").value;
  if(!n||!p||!c){alert("Preencha todos os campos");return;}
  if(!extraProducts[c]) extraProducts[c]=[];
  extraProducts[c].push({n,p});
  localStorage.setItem("extraProducts",JSON.stringify(extraProducts));
  document.getElementById("newName").value="";
  document.getElementById("newPrice").value="";
  document.getElementById("newCategory").value="";
  renderAll();renderAdmin();
}

/* ================= OFERTAS ================= */
function openOffer(){document.getElementById("offerModal").style.display="flex";renderOffers();}
function closeOffer(){document.getElementById("offerModal").style.display="none";}
function renderOffers(){
  const box=document.getElementById("offerList");
  box.innerHTML="";
  const all=getAllProducts();
  Object.keys(all).forEach(c=>{
    all[c].forEach(p=>{
      const o=offers[p.n]||{};
      box.innerHTML+=`<div style="margin-bottom:16px"><strong>${p.n}</strong><input class="search" type="number" placeholder="Valor de oferta" value="${o.price??""}" id="offerPrice-${p.n}"><input class="search" type="date" value="${o.start??""}" id="offerStart-${p.n}"><input class="search" type="date" value="${o.end??""}" id="offerEnd-${p.n}"><button class="btn-green" onclick="saveOffer('${p.n}')">Salvar Oferta</button>${offers[p.n]?`<button class="btn-green" style="background:#999;margin-top:6px" onclick="removeOffer('${p.n}')">Remover Oferta</button>`:""}</div>`;
    });
  });
}
function saveOffer(n){
  const price=Number(document.getElementById("offerPrice-"+n).value);
  const start=document.getElementById("offerStart-"+n).value;
  const end=document.getElementById("offerEnd-"+n).value;
  if(!price||!start||!end){alert("Preencha valor e datas");return;}
  offers[n]={price,start,end};
  localStorage.setItem("offers",JSON.stringify(offers));
  renderAll();renderOffers();
}
function removeOffer(n){
  delete offers[n];
  localStorage.setItem("offers",JSON.stringify(offers));
  renderAll();renderOffers();
}

/* ================= RELAT√ìRIO ================= */
function openReport(){document.getElementById("reportModal").style.display="flex";renderReport();}
function closeReport(){document.getElementById("reportModal").style.display="none";}
function renderReport(){
  let t=0,c=0,p=0,d=0,cr=0;
  sales.forEach(s=>{
    t+=s.total;
    if(s.payment==="dinheiro")c+=s.total;
    if(s.payment==="pix")p+=s.total;
    if(s.payment==="debito")d+=s.total;
    if(s.payment==="credito")cr+=s.total;
  });
  document.getElementById("repTotal").innerText="R$ "+t.toFixed(2).replace(".",",");
  document.getElementById("repCash").innerText="R$ "+c.toFixed(2).replace(".",",");
  document.getElementById("repPix").innerText="R$ "+p.toFixed(2).replace(".",",");
  document.getElementById("repDebit").innerText="R$ "+d.toFixed(2).replace(".",",");
  document.getElementById("repCredit").innerText="R$ "+cr.toFixed(2).replace(".",",");
}
</script>

</body>
</html>

