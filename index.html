<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>Rabika's Burguer</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">

<style>
*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%}
body{
  font-family:'Poppins',sans-serif;
  background:linear-gradient(180deg,#06003a,#0a045a,#03001f);
  color:#fff;
  display:flex;
  justify-content:center;
}

/* SPLASH */
#splash{
  position:fixed;
  inset:0;
  background:linear-gradient(180deg,#05002e,#020018);
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:9999;
}
.splash-box{text-align:center}
.splash-logo{
  width:90%;
  max-width:360px;
  margin-bottom:32px;
}
.splash-btn{
  background:linear-gradient(135deg,#FFD34D,#FFB000);
  border:none;
  padding:18px 56px;
  border-radius:46px;
  font-size:22px;
  font-weight:900;
  color:#2b0033;
  cursor:pointer;
}

/* APP */
#app{
  width:100%;
  max-width:420px;
  padding:16px 16px 340px;
  display:none;
}

/* TOPO */
.title{
  text-align:center;
  font-size:30px;
  font-weight:900;
  color:#FFD34D;
  margin-bottom:8px;
}

/* FECHADO */
#closedBanner{
  display:none;
  background:#b00020;
  color:#fff;
  text-align:center;
  padding:12px;
  border-radius:18px;
  font-size:13px;
  font-weight:600;
  margin-bottom:12px;
}

/* BUSCA */
.search{
  width:100%;
  padding:14px 16px;
  border-radius:22px;
  border:none;
  font-size:15px;
  margin-bottom:14px;
}

/* TABS */
.tabs{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:10px;
  margin-bottom:16px;
}
.tab{
  background:#fff;
  color:#2b0033;
  padding:14px;
  border-radius:22px;
  font-weight:800;
  text-align:center;
  cursor:pointer;
}
.tab.active{background:#FFD34D}

/* CONTE√öDO */
.box{
  background:#fff;
  color:#2b0033;
  border-radius:28px;
  padding:18px;
  margin-bottom:20px;
  display:none;
}
.box.active{display:block}

/* ITEM */
.item{
  display:grid;
  grid-template-columns:1fr auto auto;
  gap:10px;
  padding:12px 0;
  border-bottom:1px dashed #e3e3e3;
  align-items:center;
}
.item:last-child{border:none}
.item-name{font-weight:600}
.item-price{font-weight:900;color:#5a0070}
.btn-add{
  background:#5a0070;
  color:#fff;
  border:none;
  border-radius:14px;
  padding:6px 14px;
  font-weight:900;
}

/* SUB */
.sub-btn{
  margin-top:14px;
  background:#FFD34D;
  color:#2b0033;
  padding:12px;
  border-radius:22px;
  font-weight:900;
  text-align:center;
  cursor:pointer;
}

/* CARRINHO */
#cart{
  position:fixed;
  bottom:0;
  left:50%;
  transform:translateX(-50%);
  width:100%;
  max-width:420px;
  background:#fff;
  color:#2b0033;
  padding:18px;
  border-radius:28px 28px 0 0;
  display:none;
  z-index:999;
}
.cart-item{
  display:flex;
  justify-content:space-between;
  margin-bottom:6px;
}
.cart-item strong{color:#5a0070}
.total{
  text-align:right;
  font-size:18px;
  font-weight:900;
}
.finish{
  background:#25D366;
  color:#fff;
  padding:16px;
  border-radius:26px;
  font-weight:900;
  text-align:center;
  margin-top:12px;
  cursor:pointer;
}
</style>
</head>

<body>

<!-- SPLASH -->
<div id="splash">
  <div class="splash-box">
    <img src="logo.png" class="splash-logo">
    <button class="splash-btn" onclick="start()">FAZER PEDIDO</button>
  </div>
</div>

<!-- APP -->
<div id="app">
  <div class="title">Rabika's Burguer</div>
  <div id="closedBanner">
    üî¥ Estamos fechados ‚Äî Ter√ßa a Domingo das 18:30 √†s 22:30
  </div>

  <input
    id="search"
    class="search"
    placeholder="Pesquisar no card√°pio..."
    oninput="handleSearch(this.value)"
  >

  <div class="tabs">
    <div class="tab active" onclick="openTab('lanches',this)">üçî Lanches</div>
    <div class="tab" onclick="openTab('porcoes',this)">üçü Por√ß√µes</div>
    <div class="tab" onclick="openTab('pasteis',this)">ü•ü Past√©is</div>
    <div class="tab" onclick="openTab('acai',this)">üç® A√ßa√≠</div>
    <div class="tab" onclick="openTab('bebidas',this)">ü•§ Bebidas</div>
  </div>

  <div id="lanches" class="box active"></div>
  <div id="porcoes" class="box"></div>
  <div id="pasteis" class="box"></div>
  <div id="acai" class="box"></div>
  <div id="bebidas" class="box"></div>
</div>
<script>
/* =========================
   ESTADO GLOBAL
========================= */
let cart = [];
let currentTab = "lanches";
let searchText = "";

/* =========================
   HOR√ÅRIO
========================= */
function isOpen(){
  const d = new Date();
  const day = d.getDay(); // 1 = segunda
  const h = d.getHours() + d.getMinutes()/60;
  if(day === 1) return false;
  if(h < 18.5 || h > 22.5) return false;
  return true;
}

/* =========================
   START
========================= */
function start(){
  document.getElementById("splash").style.display = "none";
  document.getElementById("app").style.display = "block";
  updateOpenStatus();
  renderAll();
}
function updateOpenStatus(){
  document.getElementById("closedBanner").style.display =
    isOpen() ? "none" : "block";
}

/* =========================
   PRODUTOS (100% COMPLETOS)
========================= */
const produtos = {
  lanches:[
    {n:'X-Salada',p:17},{n:'X-Burguer',p:14},{n:'X-Frango',p:22},
    {n:'X-Frango Cremoso',p:20},{n:'X-Bacon',p:25},{n:'X-Calabresa',p:25},
    {n:'X-Cora√ß√£o',p:27},{n:'X-Tudo',p:32},{n:'X-Burguer Duplo',p:22},
    {n:'X-Egg',p:20},{n:'X-Tribom',p:32},{n:'X-Da Casa',p:45},{n:'X-Dog',p:20}
  ],
  adicionaisLanches:[
    {n:'Calabresa',p:7},{n:'Bacon',p:7},{n:'Cora√ß√£o',p:8},{n:'Ovo',p:3},
    {n:'Salsicha',p:4},{n:'Frango',p:7},{n:'Cheddar',p:4},
    {n:'Hamb√∫rguer artesanal',p:10},{n:'Maionese caseira',p:2}
  ],
  porcoes:[
    {n:'Fritas',p:24.99},{n:'Fritas c/ Frango',p:39.99},
    {n:'Fritas c/ Calabresa',p:34.99},{n:'Fritas c/ Bacon',p:34.99},
    {n:'An√©is de Cebola',p:24.99},
    {n:'Fritas c/ Bacon, Calabresa e Queijo',p:39.99},
    {n:'Fritas c/ Bacon Cheddar',p:39.99},
    {n:'Fritas c/ Polenta e Frango',p:39.99},
    {n:'Fritas c/ Polenta',p:24.99},
    {n:'Fritas c/ Calabresa e Catupiry',p:35.99},
    {n:'Fritas, Polenta, Chuleta e Anel de Cebola',p:49.99}
  ],
  pasteis:[
    {n:'Pastel de Carne',p:14},{n:'Pastel de Frango',p:12},
    {n:'Frango Bacon Cheddar',p:16},{n:'Bacon Cheddar',p:15},
    {n:'Calabresa c/ Cebola',p:14},{n:'Carne e Queijo',p:15},
    {n:'Queijo',p:14},{n:'Chocolate ao Leite',p:15},
    {n:'Banana Queijo Canela',p:15},{n:'Romeu e Julieta',p:15},
    {n:'Chocolate Branco',p:15},{n:'Creme e Ouro Branco',p:15},
    {n:'Creme e Sonho de Valsa',p:15}
  ],
  acaiTamanhos:[
    {n:'A√ßa√≠ 300ml',p:12},{n:'A√ßa√≠ 400ml',p:15},{n:'A√ßa√≠ 500ml',p:18}
  ],
  acaiAdicionais:[
    {n:'Pa√ßoca',p:2},{n:'Leite em p√≥',p:4},{n:'Granola',p:4},
    {n:'Morango',p:4},{n:'M&M',p:3},{n:'Ouro Branco',p:3},
    {n:'Banana',p:2},{n:'Sonho de Valsa',p:3},
    {n:'Leite Condensado',p:3},{n:'Nutella',p:4}
  ],
  bebidas:[
    {n:'Cassulinha 200ml',p:3},{n:'Coca-Cola 600ml',p:8},
    {n:'Coca-Cola 2L',p:16},{n:'Refri Lata',p:6},
    {n:'Refrigerante 2L',p:12},{n:'Cerveja Lata 350ml',p:6},
    {n:'Achocolatado 200ml',p:3}
  ]
};

/* =========================
   BUSCA GLOBAL
========================= */
function handleSearch(value){
  searchText = value.toLowerCase().trim();
  renderAll();
}

/* =========================
   TABS
========================= */
function openTab(cat,el){
  currentTab = cat;
  document.querySelectorAll('.box').forEach(b=>b.classList.remove('active'));
  document.getElementById(cat).classList.add('active');

  if(el){
    document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));
    el.classList.add('active');
  }
}

/* =========================
   RENDERIZA√á√ÉO
========================= */
function renderAll(){
  renderCategory("lanches", produtos.lanches, produtos.adicionaisLanches);
  renderCategory("porcoes", produtos.porcoes);
  renderCategory("pasteis", produtos.pasteis);
  renderAcai();
  renderCategory("bebidas", produtos.bebidas);
}

function renderCategory(id,list,extras){
  const box = document.getElementById(id);
  box.innerHTML = "";

  list.forEach(p=>{
    if(p.n.toLowerCase().includes(searchText)){
      box.innerHTML += itemHTML(p);
    }
  });

  if(extras){
    box.innerHTML += `
      <div class="sub-btn" onclick="toggleExtras()">‚ûï Adicionais para Lanches</div>
      <div id="extras" style="display:none">
        ${extras.map(e=>itemHTML(e)).join("")}
      </div>
    `;
  }
}

function renderAcai(){
  const box = document.getElementById("acai");
  box.innerHTML = `<div class="sub-btn">ü•§ Tamanhos</div>`;
  produtos.acaiTamanhos.forEach(p=>{
    if(p.n.toLowerCase().includes(searchText)){
      box.innerHTML += itemHTML(p);
    }
  });

  box.innerHTML += `<div class="sub-btn">üç´ Adicionais</div>`;
  produtos.acaiAdicionais.forEach(p=>{
    if(p.n.toLowerCase().includes(searchText)){
      box.innerHTML += itemHTML(p);
    }
  });
}

function itemHTML(p){
  return `
    <div class="item">
      <span class="item-name">${p.n}</span>
      <span class="item-price">R$ ${p.p.toFixed(2).replace('.',',')}</span>
      <button class="btn-add" onclick="addItem('${p.n}',${p.p})">+</button>
    </div>
  `;
}

function toggleExtras(){
  const e = document.getElementById("extras");
  if(!e) return;
  e.style.display = e.style.display === "none" ? "block" : "none";
}
</script>
<script>
/* =========================
   CARRINHO
========================= */
function addItem(nome, preco){
  if(!isOpen()){
    alert("Estamos fechados.\nTer√ßa a Domingo das 18:30 √†s 22:30");
    return;
  }
  cart.push({ n: nome, p: preco });
  updateCart();
}

function updateCart(){
  const cartBox = document.getElementById("cart");
  const list = document.getElementById("cartItems");
  list.innerHTML = "";

  let total = 0;

  cart.forEach((item, index)=>{
    total += item.p;
    list.innerHTML += `
      <div class="cart-item">
        <strong>${item.n}</strong>
        <span>R$ ${item.p.toFixed(2).replace('.',',')}</span>
        <button onclick="removeItem(${index})">‚úï</button>
      </div>
    `;
  });

  document.getElementById("total").innerText =
    "Total: R$ " + total.toFixed(2).replace('.',',');

  cartBox.style.display = cart.length ? "block" : "none";
}

function removeItem(index){
  cart.splice(index, 1);
  updateCart();
}

/* =========================
   FINALIZAR PEDIDO
   (PERGUNTA SOBRE BEBIDA)
========================= */
function finishOrder(){
  if(cart.length === 0){
    alert("Seu carrinho est√° vazio");
    return;
  }

  const bebidas = [
    "Cassulinha 200ml","Coca-Cola 600ml","Coca-Cola 2L",
    "Refri Lata","Refrigerante 2L",
    "Cerveja Lata 350ml","Achocolatado 200ml"
  ];

  const temBebida = cart.some(i => bebidas.includes(i.n));

  if(!temBebida){
    const resp = confirm(
      "Voc√™ ainda n√£o adicionou bebida.\nDeseja ver as op√ß√µes?"
    );
    if(resp){
      const tabs = document.querySelectorAll(".tab");
      openTab("bebidas", tabs[4]);
      return;
    }
  }

  sendOrder();
}
</script>
<script>
/* =========================
   ENVIO PARA WHATSAPP
========================= */
function sendOrder(){
  let mensagem = "üçî *Pedido Rabika's Burguer*\n\n";
  let total = 0;

  cart.forEach(item=>{
    mensagem += `‚Ä¢ ${item.n} - R$ ${item.p.toFixed(2).replace('.',',')}\n`;
    total += item.p;
  });

  mensagem += `\nüí∞ *Total: R$ ${total.toFixed(2).replace('.',',')}*`;
  mensagem += `\n\nüìç Retirada no local`;

  const phone = "554991789706"; // troque se precisar
  const url =
    "https://wa.me/" +
    phone +
    "?text=" +
    encodeURIComponent(mensagem);

  window.open(url, "_blank");
}

/* =========================
   OFFLINE / ONLINE
========================= */
window.addEventListener("offline", () => {
  alert("Voc√™ est√° sem conex√£o com a internet.");
});
</script>

</body>
</html>
