<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>Rabika's Burguer</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root{
  --red:#e50914;
  --bg:#141414;
  --card:#1f1f1f;
  --text:#ffffff;
}
*{margin:0;padding:0;box-sizing:border-box}
body{
  background:var(--bg);
  color:var(--text);
  font-family:Arial,Helvetica,sans-serif;
  display:flex;
  justify-content:center;
}

/* SPLASH */
#splashScreen{
  position:fixed; inset:0;
  background:var(--bg);
  display:flex; justify-content:center; align-items:center;
  z-index:9999;
}
.splash-content{text-align:center}
.splash-content h1{
  color:var(--red);
  font-size:42px;
  margin-bottom:30px;
  letter-spacing:2px;
}
@keyframes pulse{
  0%{transform:scale(1)}
  50%{transform:scale(1.1)}
  100%{transform:scale(1)}
}
.splash-btn{
  background:var(--red);
  color:#fff;
  border:none;
  padding:18px 50px;
  font-size:18px;
  border-radius:6px;
  cursor:pointer;
  animation:pulse 1.8s infinite;
}

/* APP */
#app{
  width:100%;
  max-width:420px;
  padding-bottom:380px;
  display:none;
}
.header{
  padding:20px;
  font-size:22px;
  font-weight:bold;
}

/* BUSCA */
.search-box{padding:16px}
.search-input{
  width:100%;
  padding:14px;
  border-radius:6px;
  border:none;
  background:#2a2a2a;
  color:#fff;
}
.search-results{
  background:#1f1f1f;
  margin-top:8px;
  border-radius:6px;
  display:none;
}
.search-item{
  padding:10px;
  border-bottom:1px solid #333;
}

/* CATEGORIAS */
.category-btn{
  margin:18px 16px 10px;
  font-size:22px;
  font-weight:bold;
  cursor:pointer;
}

/* ITEM */
.item{
  background:var(--card);
  border-radius:6px;
  padding:14px;
  margin-bottom:10px;
  display:grid;
  grid-template-columns:1fr auto auto;
  gap:10px;
  align-items:center;
}
.price{font-weight:bold}
.price.oferta{color:var(--red)}
.badge{
  background:var(--red);
  font-size:10px;
  padding:2px 6px;
  border-radius:4px;
  margin-left:6px;
}
.btn-add{
  background:var(--red);
  color:#fff;
  border:none;
  width:36px;
  height:36px;
  border-radius:4px;
  font-size:20px;
}

/* SUB */
.sub-btn{
  background:#2a2a2a;
  padding:12px;
  border-radius:6px;
  margin:14px 0;
  font-weight:bold;
  cursor:pointer;
}

/* ADMIN */
#adminPanel{
  position:fixed; inset:0;
  background:#000;
  display:none;
  z-index:99999;
  padding:20px;
  overflow:auto;
}
.admin-card{
  background:#1f1f1f;
  padding:14px;
  margin-bottom:10px;
  border-radius:6px;
}

/* CARRINHO */
.cart-footer{
  position:fixed;
  bottom:0;
  width:100%;
  max-width:420px;
  background:#181818;
  padding:14px;
  display:none;
}
.cart-item{
  display:grid;
  grid-template-columns:1fr auto auto;
  gap:10px;
}
.btn-finish{
  background:var(--red);
  padding:16px;
  border-radius:6px;
  text-align:center;
  font-weight:bold;
  margin-top:12px;
}
</style>
</head>

<body>

<div id="splashScreen">
  <div class="splash-content">
    <h1>RABIKA‚ÄôS BURGUER</h1>
    <button class="splash-btn" onclick="enterApp()">FAZER PEDIDO</button>
  </div>
</div>

<div id="app">
<div class="header">RABIKA‚ÄôS BURGUER</div>

<div class="search-box">
  <input class="search-input" placeholder="Pesquisar produto..." oninput="searchProduct(this.value)">
  <div class="search-results" id="searchResults"></div>
</div>

<!-- LANCHES -->
<div class="category-btn" onclick="toggle('lanches')">üçî Lanches</div>
<div id="lanches">
  <!-- TODOS OS LANCHES + ADICIONAIS (iguais ao original) -->
  <!-- (lista completa inclu√≠da no JS para oferta/admin) -->
</div>

<!-- PAST√âIS -->
<div class="category-btn" onclick="toggle('pasteis')">ü•ü Past√©is</div>
<div id="pasteis"></div>

<!-- POR√á√ïES -->
<div class="category-btn" onclick="toggle('porcoes')">üçü Por√ß√µes</div>
<div id="porcoes"></div>

<!-- BEBIDAS -->
<div class="category-btn" onclick="toggle('bebidas')">ü•§ Bebidas</div>
<div id="bebidas"></div>

<!-- A√áA√ç -->
<div class="category-btn" onclick="toggle('acai')">üç® A√ßa√≠</div>
<div id="acai"></div>
<div id="adminPanel">
  <h2>PAINEL DE OFERTAS</h2>
  <div id="adminList"></div>
  <button onclick="closeAdmin()">Fechar</button>
</div>

<div class="cart-footer" id="cartFooter">
  <div id="cartItems"></div>
  <div id="totalValue">Total: R$ 0,00</div>
  <div class="btn-finish" onclick="finishOrder()">Finalizar Pedido</div>
</div>

</div>

<script>
let cart=[];
let orders=JSON.parse(localStorage.getItem("orders"))||[];
let offers=JSON.parse(localStorage.getItem("offers"))||{};

const products=[
  // LANCHES
  {n:"X-Salada",p:17},{n:"X-Burguer",p:14},{n:"X-Frango",p:22},
  {n:"X-Frango Cremoso",p:20},{n:"X-Bacon",p:25},{n:"X-Calabresa",p:25},
  {n:"X-Cora√ß√£o",p:27},{n:"X-Tudo",p:32},{n:"X-Burguer Duplo",p:22},
  {n:"X-Egg",p:20},{n:"X-Tribom",p:32},{n:"X-Da Casa",p:45},{n:"X-Dog",p:20},

  // ADICIONAIS
  {n:"Adicional Calabresa",p:7},{n:"Adicional Bacon",p:7},{n:"Adicional Cora√ß√£o",p:8},
  {n:"Adicional Ovo",p:5},{n:"Adicional Salsicha",p:4},{n:"Adicional Frango",p:7},
  {n:"Adicional Cheddar",p:4},{n:"Adicional Hamb√∫rguer",p:10},{n:"Adicional Maionese",p:2},

  // PAST√âIS
  {n:"Pastel de Carne",p:14},{n:"Pastel de Frango",p:12},{n:"Pastel Frango Bacon Cheddar",p:16},
  {n:"Pastel Bacon Cheddar",p:15},{n:"Pastel Calabresa com Cebola",p:14},
  {n:"Pastel Carne e Queijo",p:15},{n:"Pastel Queijo",p:14},
  {n:"Pastel Chocolate ao Leite",p:15},{n:"Pastel Banana Queijo Canela",p:15},
  {n:"Pastel Romeu e Julieta",p:15},{n:"Pastel Chocolate Branco",p:15},
  {n:"Pastel Creme e Ouro Branco",p:15},{n:"Pastel Creme e Sonho de Valsa",p:15},

  // POR√á√ïES
  {n:"Fritas",p:24.99},{n:"Fritas com Frango",p:39.99},{n:"Fritas com Calabresa",p:34.99},
  {n:"Til√°pia",p:34.99},{n:"Fritas com Bacon",p:34.99},{n:"An√©is de Cebola",p:24.99},
  {n:"Fritas Bacon Calabresa Queijo",p:39.99},{n:"Fritas Bacon Cheddar",p:39.99},
  {n:"Fritas Polenta Frango",p:39.99},{n:"Fritas Polenta",p:24.99},
  {n:"Fritas Calabresa Catupiry",p:35.99},{n:"Por√ß√£o Completa",p:49.99},

  // BEBIDAS
  {n:"Cassulinha 200ml",p:3},{n:"Coca-Cola 600ml",p:8},{n:"Coca-Cola 2L",p:16},
  {n:"Refri Lata",p:6},{n:"Refrigerante 2L",p:12},
  {n:"Cerveja Lata 350ml",p:6},{n:"Achocolatado 200ml",p:3},

  // A√áA√ç
  {n:"A√ßa√≠ 300ml",p:12},{n:"A√ßa√≠ 400ml",p:15},{n:"A√ßa√≠ 500ml",p:18},
  {n:"Pa√ßoca",p:2},{n:"Leite em p√≥",p:4},{n:"Granola",p:4},{n:"Morango",p:4},
  {n:"M&M",p:3},{n:"Ouro Branco",p:3},{n:"Banana",p:2},
  {n:"Sonho de Valsa",p:3},{n:"Leite Condensado",p:3},{n:"Nutella",p:4}
];

function enterApp(){
  splashScreen.style.display="none";
  app.style.display="block";
  renderMenu();
}

function toggle(id){
  const el=document.getElementById(id);
  el.style.display=el.style.display==="block"?"none":"block";
}

function renderMenu(){
  products.forEach(p=>{
    let price=p.p;
    let badge="";
    let cls="";
    if(offers[p.n] && new Date(offers[p.n].valid)>=new Date()){
      price=offers[p.n].price;
      badge='<span class="badge">OFERTA</span>';
      cls="oferta";
    }
    const item=document.createElement("div");
    item.className="item";
    item.innerHTML=`
      <span>${p.n}${badge}</span>
      <span class="price ${cls}">R$ ${price}</span>
      <button class="btn-add" onclick="addToCart('${p.n}',${price})">+</button>`;
    app.appendChild(item);
  });
}

function addToCart(n,p){
  cart.push({n,p});
  updateCart();
}

function updateCart(){
  let t=0;
  cartItems.innerHTML="";
  cart.forEach(i=>{
    t+=i.p;
    cartItems.innerHTML+=`<div class="cart-item"><span>${i.n}</span><span>R$ ${i.p.toFixed(2)}</span></div>`;
  });
  totalValue.innerText="Total: R$ "+t.toFixed(2);
  cartFooter.style.display="block";
}

function searchProduct(q){
  if(q==="relatorio"){
    const today=new Date().toISOString().slice(0,10);
    let total=0;
    orders.forEach(o=>{if(o.date.startsWith(today)) total+=o.total});
    alert("RELAT√ìRIO DO DIA\nTotal: R$ "+total.toFixed(2));
    return;
  }
  if(q==="oferta"){
    const s=prompt("Senha admin:");
    if(s==="adm") openAdmin();
    return;
  }
}

function openAdmin(){
  adminPanel.style.display="block";
  adminList.innerHTML="";
  products.forEach(p=>{
    adminList.innerHTML+=`
      <div class="admin-card">
        <b>${p.n}</b><br>
        Pre√ßo oferta: <input id="p_${p.n}" type="number"><br>
        Validade: <input id="d_${p.n}" type="date"><br>
        <button onclick="saveOffer('${p.n}')">Salvar</button>
      </div>`;
  });
}

function saveOffer(n){
  const price=document.getElementById("p_"+n).value;
  const date=document.getElementById("d_"+n).value;
  offers[n]={price:Number(price),valid:date};
  localStorage.setItem("offers",JSON.stringify(offers));
  location.reload();
}

function closeAdmin(){
  adminPanel.style.display="none";
}

function finishOrder(){
  const total=cart.reduce((s,i)=>s+i.p,0);
  orders.push({date:new Date().toISOString(),total});
  localStorage.setItem("orders",JSON.stringify(orders));
  alert("Pedido finalizado");
}
</script>

</body>
</html>
